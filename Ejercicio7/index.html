<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Horas Extras</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

    <center>
        <div class="calc">
            <div class="calctext">
                <h1>Pago por Horas Extras</h1>
                <hr>
                <span>Ingresa los datos del trabajador</span><br>

                <form class="formss" id="overtimeForm">
                    <input class="depos" type="number" id="hrs_total_inp" placeholder="Horas totales trabajadas" required><br>
                    <input class="depos" type="number" step="0.01" id="rate_ph_inp" placeholder="Pago por hora normal ($)" required><br><br>

                    <input class="submit" type="submit" value="Calcular Pago Total">
                    
                    <div id="result" style="margin-top: 20px; font-size: 18px; font-weight: bold;"></div>
                </form>
                <span class="small">Las horas extra se pagan al doble o triple.</span>
            </div>
        </div>
    </center>

    <script>
        const elForm = document.getElementById('overtimeForm');
        const resDiv = document.getElementById('result');

        elForm.addEventListener('submit', function(evt) {
            evt.preventDefault();

            const hrs_total = parseInt(document.getElementById('hrs_total_inp').value);
            const rate_ph = parseFloat(document.getElementById('rate_ph_inp').value);

            if (isNaN(hrs_total) || isNaN(rate_ph) || hrs_total <= 0 || rate_ph <= 0) {
                resDiv.innerHTML = "Por favor, ingresa valores vÃ¡lidos y positivos.";
                resDiv.style.color = 'red';
                return;
            }

            let pagoNormal = 0;
            let pagoExtra = 0;
            const std_hrs = 40;

            if (hrs_total <= std_hrs) {
                pagoNormal = hrs_total * rate_ph;
            } else {
                pagoNormal = std_hrs * rate_ph;
                const extra_hrs = hrs_total - std_hrs;

                if (extra_hrs <= 8) {
                    pagoExtra = extra_hrs * (rate_ph * 2);
                } else {
                    const triple_hrs = extra_hrs - 8;
                    const pagoDoble = 8 * (rate_ph * 2);
                    const pagoTriple = triple_hrs * (rate_ph * 3);
                    pagoExtra = pagoDoble + pagoTriple;
                }
            }

            const total_payment = pagoNormal + pagoExtra;
            
            resDiv.style.color = 'black';
            resDiv.innerHTML = `
                <p>Pago por horas normales: <strong>$${pagoNormal.toFixed(2)}</strong></p>
                <p>Pago por horas extras: <strong>$${pagoExtra.toFixed(2)}</strong></p>
                <hr>
                <h3>Pago Total a Recibir:</h3>
                <h2>$${total_payment.toFixed(2)}</h2>
            `;
        });
    </script>

</body>
</html>